# description : PugJS syntax adapter for Django, Jinja2 and Mako templates
# depends : python python-six python-chardet

name=python-pypugjs
version=5.9.8
release=1
url=https://github.com/kakulukia/pypugjs
make# depends : python-setuptools
check# depends : python-nose python-django python-jinja python-tornado python-mako
opt# depends : python-django python-jinja python-tornado python-mako
# PyPI sdist does not contain tests
source="https://github.com/kakulukia/pypugjs/archive/v$version/pypugjs-$version.tar.gz"
sha256sums=efb7cbfbbe9fec223b13a419754626b7313dd74d67230f4c38addf1e4389ebc8

build()-delete {
   cd pypugjs-$version
  python setup.py build
}

check {
   cd pypugjs-$version
  # -w is needed here as test_cases.py looks into cases/
  PYTHONPATH="$PWD" nosetests -w pypugjs/testsuite
}

options="!checksum"

build() {
   cd pypugjs-$version
  python setup.py build
  python setup.py install --root=$PKG --optimize=1 
}
