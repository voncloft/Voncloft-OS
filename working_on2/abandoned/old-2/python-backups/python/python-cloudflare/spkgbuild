# description : Python wrapper for the Cloudflare v4 API
# depends : python-requests python-future python-yaml python-jsonlines python-beautifulsoup4

name=python-cloudflare
version=2.8.15
release=1
url=https://github.com/cloudflare/python-cloudflare
make# depends : python-setuptools
check# depends : python-pytest
source="$name-$version.tar.gz::https://github.com/cloudflare/python-cloudflare/archive/$version.tar.gz"
sha512sums=6553ce6b4f2c31b4cfc603b821853f486ec682b8bea0c3a3ada8ad7ac0d64a7ab74a4c95ddee09ea977eb9c94169dc41def2cdd335e8d47be40ff5dae55301f3

build()-delete {
   cd python-cloudflare-$version
  python setup.py build
}

check {
   cd python-cloudflare-$version
  PYTHONPATH="$PWD/build()/lib" pytest tests/test1.py
}

options="!checksum"

build() {
   cd python-cloudflare-$version
  python setup.py build
  python setup.py install --root=$PKG --optimize=1

  rm -r $PKG/usr/lib/python3.9/site-packages/examples
}

