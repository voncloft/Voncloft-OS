# description : SVG converter based on Cairo. It can export SVG files to PDF, PostScript and PNG files
# depends : python-cairocffi python-cssselect2 python-defusedxml python-pillow python-tinycss2

name=python-cairosvg
_name=CairoSVG
version=2.5.1
release=1
url=https://cairosvg.org
make# depends : python-setuptools
check# depends : python-pytest-runner python-pytest-cov python-pytest-flake8 python-pytest-isort
replaces=cairosvg
source="$name-$version.tar.gz::https://github.com/Kozea/CairoSVG/archive/$version.tar.gz"
sha512sums=149b2051f82c59be05537bee47a8615852ed98772843bae7d48127dff69a0c29502e6213de0610c328d6dc645e3f69c82204a7a29baa8a4c6b579257455b9c70

prepare {
   cd $_name-$version

  cp -r cairosvg test_non_regression/cairosvg_reference/
}

build()-delete {
   cd $_name-$version

  python setup.py build
}

check {
   cd $_name-$version

  python setup.py pytest
}

options="!checksum"

build() {
   cd $_name-$version

  python setup.py build
  python setup.py install --root=$PKG --optimize=1 
}
