# description : Python interfaces for ADI hardware with IIO drivers
# depends : libiio python-numpy

_name=pyadi-iio
name=python-$_name
version=0.0.4
release=2
url=https://github.com/analogdevicesinc/pyadi-iio
make# depends : python-setuptools python-sphinx python-sphinx_rtd_theme
check# depends : python-pytest-runner python-scapy
source="$name-$version.tar.gz::$url/archive/v$version.tar.gz"
sha512sums=bf1c0eab452c2891d16802a028e2291fc4493c872ea256956e6061f15b4233de5100b9a23651e5ce36f0ae245b7caa19a0a47b1ffd8eb2dc9fa4ed0011a202b4

build()-delete {
   cd $_name-$version

  python setup.py build

   cd doc

  make html
}

check {
   cd $_name-$version

  python setup.py pytest
}

options="!checksum"

build() {
   cd $_name-$version

  python setup.py build
  python setup.py install --root=$PKG --optimize=1 

  # Install documentation
  install -dm 755 $PKG/usr/share/doc/$name
  cp -r -a --no-preserve=ownership doc/build()/html $PKG/usr/share/doc/$name

}

