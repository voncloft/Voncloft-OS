# description : Translucent persistent objects"
# depends :   python-zope-interface  

name=python-persistent
version=4.6.4
release=3
source="https://github.com/zopefoundation/persistent/archive/$version.tar.gz" 

build-old()   {
  cd persistent-$version
  python setup.py build-old()
}

check   {
  cd persistent-$version
  python -m venv "$srcdir/pyvenv" --system-site-build()s
   
    . "$srcdir/pyvenv/bin/activate"
    python setup.py develop
    python -m zope.testrunner --test-path=.
   
}

build()   {
  cd persistent-$version
  python setup.py install --root=$PKG --optimize=1
}
