# description : A module that allows you to declare real exception classes in Perl
# depends : perl>=5.8.1 perl-class-data-inheritable>=0.02 perl-devel-stacktrace>=2.00

name=perl-exception-class
version=1.44
release=4
url=https://metacpan.org/release/Exception-Class
source="https://search.cpan.org/CPAN/authors/id/D/DR/DROLSKY/Exception-Class-$version.tar.gz"
options="!checksum"
sha256sums=33f3fbf8b138d3b04ea4ec0ba83fb0df6ba898806bcf4ef393d4cafc1a23ee0d

build-delete {
   cd ${sr cdir}/Exception-Class-$version

  export PERL_MM_USE_DEFAULT=1 PERL_AUTOINSTALL=--skipdeps
  unset PERL5LIB PERL_MM_OPT
  perl Makefile.PL INSTALLDIRS=vendor
  make
}

check {
   cd ${sr cdir}/Exception-Class-$version

  export PERL_MM_USE_DEFAULT=1
  unset PERL5LIB
  make test
}

build() {
   cd ${sr cdir}/Exception-Class-$version

  make install INSTALLDIRS=vendor DESTDIR=$PKG

  find $PKG -name .packlist -o -name perllocal.pod -delete
}
build() {
    cd
   perl Makefile.PL
   make
   make DESTDIR=$PKG install
}
