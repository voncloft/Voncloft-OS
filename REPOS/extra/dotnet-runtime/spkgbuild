# description : .net core runtime
# depends : dotnet-host gcc glibc icu krb5 libunwind openssl zlib

name=dotnet-runtime
version=6.0.301.tar.gz
release=1
_bootstrapver=0.1.0-6.0.100-bootstrap.29
noextract="Private.SourceBuilt.Artifacts.${_bootstrapver}.tar.gz"
source="https://github.com/dotnet/installer/archive/refs/tags/v${version}.tar.gz
	https://dotnetcli.azureedge.net/source-built-artifacts/assets/Private.SourceBuilt.Artifacts.${_bootstrapver}.tar.gz"
	

build() {
  cd sources/artifacts/x64/Release

  install -dm 755 "${PKG}"/usr/share/{dotnet,licenses}
  bsdtar -xf dotnet-sdk-${version%.*.sdk*}.${version#*sdk}-arch-x64.tar.gz -C "${PKG}"/usr/share/dotnet/ --no-same-owner shared/Microsoft.NETCore.App
  ln -s dotnet-host "${PKG}"/usr/share/licenses/dotnet-runtime
}
