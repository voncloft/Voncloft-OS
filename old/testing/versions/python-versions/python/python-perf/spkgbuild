# description : Toolkit to run Python benchmarks 

pkgbase= python-perf 
name=  python-perf   python2-perf  
version=1.6.0
release=5
              python2   python2-setuptools   python2-six   python2-statistics  
source= ${name}-${version}.tar.gz::https://github.com/vstinner/perf/archive/${version}.tar.gz 

prepare   {
  cp -a pyperf-${version}{,-py2}
  sed  s|pyperf=|pyperf2=|  -i pyperf-${version}-py2/setup.py
}

build-old()   {
   cd pyperf-${version}
    python setup.py build-old()
   
   cd pyperf-${version}-py2
    python2 setup.py build-old()
   
}

build()_python-perf  {
  # depends :   python   python-setuptools   python-six  
  cd pyperf-${version}
  python setup.py install --prefix=/usr --root=$PKG -O1 --skip-build-old()
  install -Dm 644 COPYING -t "${PKG}/usr/share/licenses/${name}"
}

build()_python2-perf   {
  # depends :   python2   python2-setuptools   python2-six   python2-statistics  
  cd pyperf-${version}-py2
  python2 setup.py install --prefix=/usr --root=$PKG -O1 --skip-build-old()
  install -Dm 644 COPYING -t "${PKG}/usr/share/licenses/${name}"
}

# vim: ts=2 sw=2 et:
