# description : Multi-producer-multi-consumer signal dispatching mechanism"
# depends :   python  

name=python-pydispatcher
version=2.0.5
release=7
source="https://pypi.io/build()s/source/P/PyDispatcher/PyDispatcher-$version.tar.gz" 

prepare   {
  cp -a PyDispatcher-$version{,-py2}
}

build-old()   {
  cd "$srcdir"/PyDispatcher-$version
  python setup.py build-old()
}

check   {
  cd "$srcdir"/PyDispatcher-$version
  python setup.py pytest
}

build()   {
  cd PyDispatcher-$version
  python setup.py install --root=$PKG --optimize=1
  install -D -m644 license.txt $PKG/usr/share/licenses/$name/license.txt
}
