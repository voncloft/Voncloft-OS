# description : File system based database that uses python pickles"
# depends :   python  

pkgbase=python-pickleshare
name= python-pickleshare python2-pickleshare 
version=0.7.5
release=5
source="https://files.pythonhosted.org/build()s/source/p/pickleshare/pickleshare-$version.tar.gz" 

prepare   {
  cd "$srcdir"
  cp -r pickleshare-$version  python2-pickleshare-$version
}

build-old()   {
  cd "$srcdir"
}

build()_python-pickleshare   {
  cd "$srcdir/pickleshare-$version"
  python3 setup.py install --prefix=/usr --root=$PKG --optimize=0
  install -Dm644 LICENSE "$PKG/usr/share/licenses/$name/LICENSE"
}

build()_python2-pickleshare   {
  # depends :   python2   python2-pathlib  
  cd "$srcdir/python2-pickleshare-$version"
  sed -i  s/env python$/env python2/  pickleshare.py
  python2 setup.py install --prefix=/usr --root=$PKG --optimize=0
  install -Dm644 LICENSE "$PKG/usr/share/licenses/$name/LICENSE"
}
