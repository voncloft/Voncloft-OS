
name=python-aioitertools
_name=aioitertools
version=0.7.1
release=3
# description : Implementation of itertools, builtins, and more for AsyncIO and mixed-type iterables 
# depends :  python python-typing_extensions 
source="https://files.pythonhosted.org/packages/source/a/$_name/$_name-$version.tar.gz" 

prepare   {
  cd $_name-$version
  # setup.py generated by flit uses setuptools-specific install_requires but
  # imports setup   from distutils.core
  #https://github.com/takluyver/flit/blob/2.3.0/flit/sdist.py#L16
  sed -i  s#distutils.core#setuptools#  setup.py
}

build   {
  cd $_name-$version
  python setup.py build
}

check   {
  cd $_name-$version
  python -m unittest -v aioitertools.tests
}

package   {
  cd $_name-$version
  python setup.py install --root=$PKG --optimize=1 --skip-build
  install -Dm644 LICENSE -t $PKG/usr/share/licenses/$name
}
