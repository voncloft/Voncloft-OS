
name=python-ansiwrap
version=0.8.4
_commit=20e2e8c78a54bdce947e38c069c5eb9c115423ae
release=3
# description : textwrap, but savvy to ANSI colors and styles"
# depends :   python  
source="https://github.com/jonathaneunice/ansiwrap/archive/$_commit/$name-$_commit.tar.gz"
        $name-no-textwrap3.patch::https://github.com/jonathaneunice/ansiwrap/pull/16.patch 
             54064900875534263a11ddfd013928383dbb2f00f6e3e6b098940bb1159c485439191667b6c742214c10ec84aca8e3cc62cdc3a5d9ea39cb3e2b74f13ad3a4a4  

prepare   {
  cd ansiwrap-$_commit
  patch -p1 -i ../$name-no-textwrap3.patch
  sed -i  s/import textwrap3 as textwrap/import textwrap/  test/test_ansiwrap.py
  sed -i  s/textwrap3/textwrap/  ansiwrap/core.py
}

build   {
  cd ansiwrap-$_commit
  python setup.py build
}

check   {
  cd ansiwrap-$_commit
  python -m pytest
}

package   {
  cd ansiwrap-$_commit
  python setup.py install --root=$PKG --optimize=1
}
