
name=python-libevdev
version=0.9
release=3
# description : Python wrapper for libevdev 
# depends :   python   libevdev  
source="$url/-/archive/$version/$name-$version.tar.gz" 

build   {
  cd $name-$version

  python setup.py build

  make doc
}

check   {
  cd $name-$version

  PYTHONPATH=. pytest test/*.py
}

package   {
  cd $name-$version

  python setup.py install --root $PKG --skip-build -O1

  # Install documentation
  install -dm 755 $PKG/usr/share/doc/$name
  cp -r -a --no-preserve=ownership doc/html $PKG/usr/share/doc/$name
  rm -rf $PKG/usr/share/doc/$name/html/.doctrees
}
