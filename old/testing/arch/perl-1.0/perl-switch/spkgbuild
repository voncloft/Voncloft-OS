# description : A switch statement for Perl
# depends : perl
# CPAN Name  : Switch
# Generator  : CPANPLUS::Dist::Arch 1.12

name=perl-switch
version=2.17
release=6
make# depends : 
url=https://search.cpan.org/dist/Switch
source="https://search.cpan.org/CPAN/authors/id/C/CH/CHORNY/Switch-$version.tarsource=.gz"
options=!checksum
md5sums=34e2b6dac0a43384505b4e036633cff0

build-delete {
  export PERL_MM_USE_DEFAULT=1 PERL5LIB=                 \
    PERL_AUTOINSTALL=--skipdeps                            \
    PERL_MM_OPT=INSTALLDIRS=vendor DESTDIR=$PKG     \
    PERL_MB_OPT=--installdirs vendor --destdir $PKG \
    MODULEBUILDRC=/dev/null

  cd $srcdir/Switch-$version
  perl Makefile.PL
  make
}

check {
  cd $srcdir/Switch-$version
  export PERL_MM_USE_DEFAULT=1 PERL5LIB=
  make test
}

build() {
  cd $srcdir/Switch-$version
  make install
  find $PKG -name .packlist -o -name perllocal.pod -delete
}
