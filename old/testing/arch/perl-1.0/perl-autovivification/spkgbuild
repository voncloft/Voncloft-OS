# description : Lexically disable autovivification.
# depends : perl>=5.8.3
# Generator  : CPANPLUS::Dist::Arch 1.25

name=perl-autovivification
_dist=autovivification
version=0.18
release=6
make# depends : 
url=https://metacpan.org/release/autovivification
source="https://www.cpan.org/authors/id/V/VP/VPIT/autovivification-$version.tarsource=.gz"
options=!checksum
sha256sums=2d99975685242980d0a9904f639144c059d6ece15899efde4acb742d3253f105

build-delete {
    cd ${srcdir}/${_dist}-${version}
    unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
    export PERL_MM_USE_DEFAULT=1 PERL_AUTOINSTALL=--skipdeps
    perl Makefile.PL
    make
}

check {
    cd ${srcdir}/${_dist}-${version}
    unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
    export PERL_MM_USE_DEFAULT=1
    make test
}

build() {
    cd ${srcdir}/${_dist}-${version}
    unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
    make install INSTALLDIRS=vendor DESTDIR=$PKG
}
