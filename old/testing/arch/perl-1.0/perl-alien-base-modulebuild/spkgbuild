# description : A Module::Build subclass for building Alien:: modules and their libraries
# depends : perl-alien-build perl-archive-extract perl-capture-tiny perl-file-chdir

name=perl-alien-base-modulebuild
version=1.15
release=1
url=https://metacpan.org/release/Alien-Base-ModuleBuild
         perl-html-parser perl-module-build perl-path-tiny perl-shell-config-generate
         perl-shell-guess perl-sort-versions perl-uri
make# depends : perl-test2-suite
check# depends : perl-acme-alien-dontpanic perl-inline perl-inline-c perl-inline-cpp
source="https://cpan.metacpan.org/authors/id/P/PL/PLICEASE/Alien-Base-ModuleBuild-$version.tarsource=.gz"
options=!checksum
sha512sums=6aa366c9748c8470abef2597684bdd68edb952ec9e8f36e31741a3376bd96aea7cd62caeea47a5ff0fb205f6d2087a63a20baf4767f87321fd54dda2727e1a70

build-delete {
  cd Alien-Base-ModuleBuild-$version
  perl Build.PL installdirs=vendor
  perl Build
}

check {
  cd Alien-Base-ModuleBuild-$version
  perl Build test
}

build() {
  cd Alien-Base-ModuleBuild-$version
  perl Build install destdir=$PKG
}
