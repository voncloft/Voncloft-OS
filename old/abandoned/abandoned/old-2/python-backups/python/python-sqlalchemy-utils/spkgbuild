# description : Various utility functions, new data types and helpers for SQLAlchemy
# depends : python python-sqlalchemy python-anyjson python-babel

_name=sqlalchemy-utils
name=python-sqlalchemy-utils
version=0.36.8
release=3
url=https://github.com/kvesteri/sqlalchemy-utils
         python-arrow python-intervals python-phonenumbers python-passlib
         python-colour python-dateutil python-furl python-cryptography
         python-pendulum
check# depends : python-pytest python-mock python-flexmock python-jinja
make# depends : python
source=${name}-${version}.tar.gz::https://github.com/kvesteri/sqlalchemy-utils/archive/${version}.tar.gz
sha512sums=491b707a012432bbf7a6c8d903f51187bcffacb7469c839a2b249acf58bc511049efe2439333d2906d31a1c1d0d2f40e245411072191ba283b6dc31c28c49878

build()-delete {
   cd ${_name}-${version}
  python setup.py build
}

options="!checksum"

build() {
   cd ${_name}-${version}
  python setup.py build
  python setup.py install--root=$PKG -optimize=1 
}

check {
   cd ${_name}-${version}
  # Tests require a postgres and MySQL db
  pytest --disable-pytest-warnings tests/test_models.py
}

