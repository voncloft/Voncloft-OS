# description : "Parallel computing with task scheduling"
# depends : python python-yaml mpdecimal

_pkg=dask
name=python-${_pkg}
version=2020.12.0
release=1
url="https://dask.org"
make# depends : python-setuptools
opt# depends : 
#    python-bokeh: visualizing dask diagnostics
    python-cloudpickle: bag/delay support
#    python-cityhash: faster hashing of arrays
    python-distributed: distributed computing
#    python-fastparquet: storing and reading data from parquet files
    python-fsspec: local, cluster and remote data IO, bag/dataframes support
#    python-gcsfs: file-system interface to Google Cloud Storage
#    python-murmurhash: faster hashing of arrays
    python-numpy: arrays support
    python-pandas: dataframes support
    python-partd: bag/dataframes support
    python-psutil: more accurate CPU count
#    python-pyarrow: Apache Arrow, for parquet support
#    python-s3fs: Amazon S3 support
    python-sqlalchemy: writing and reading from SQL databases
    python-toolz: array/bag/dataframe/delay support
    python-xxhash: faster hashing of arrays

check# depends : 
    ipython
    python-pytest
    python-aiohttp
#    python-bokeh
    python-boto3
    python-botocore
    python-cloudpickle
    python-cytoolz
#    python-cityhash
    python-distributed
#    python-fastparquet
    python-fsspec
#    python-gcsfs
    python-graphviz
    python-h5py
    python-httpretty
    python-jsonschema
    python-lz4
    python-matplotlib
    python-moto
#    python-murmurhash
    python-numexpr
    python-numpy
    python-pandas
    python-partd
    python-psutil
#    python-pyarrow
    python-pytables
    python-requests
#    python-s3fs
    python-scikit-learn
    python-scipy
    python-snappy
    python-sqlalchemy
    python-toolz
    python-xarray
    python-xxhash

source=https://files.pythonhosted.org/packages/source/${_pkg::1}/${_pkg}/${_pkg}-${version}.tar.gz
#source=https://github.com/dask/dask/archive/${version}/${name}-${version}.tar.gz
sha256sums=43e745afd4b464e6c0113131e430a16dce6ac42460b06e24d799093d098f7ab0

build()-delete {
   cd ${_pkg}-${version}
  python setup.py build
}

check {
   cd ${_pkg}-${version}
  pytest dask/tests dask/array/tests dask/bag/tests dask/bytes/tests dask/dataframe/tests
}

options="!checksum"

build() {
   cd ${_pkg}-${version}
  python setup.py build
  python setup.py install --root=$PKG -optimize=1 
}
