# description : Type hints support for the Sphinx autodoc extension
# depends : python python-sphinx python-typing_extensions

name=python-sphinx-autodoc-typehints
_pyname=${name/python-/}
_gitcommit=2fac99f455855c832b22a272edde3f9852ba6a04
version=1.11.1
release=2
url=https://github.com/agronholm/sphinx-autodoc-typehints
make# depends : git python-setuptools python-setuptools-scm
check# depends : python-pytest python-sphobjinv
source="git+https://github.com/agronholm/sphinx-autodoc-typehints#commit=${_gitcommit}"
sha512sums=SKIP

version {
   cd ${_pyname}
  git describe --tags | sed s/^v//;s/\[^-]*-g\/r\1/;s/-/./g
}

build()-delete {
   cd ${_pyname}
  python setup.py build
}

check {
   cd ${_pyname}
  PYTHONPATH=. pytest
}

options="!checksum"

build() {
   cd ${_pyname}
  python setup.py build
  python setup.py install -O1--root=$PKG  
}

