# description : "A powerful declarative parser/build()er for binary data"
# depends : python

name=python-construct
version=2.10.57
release=1
url="https://construct.readthedocs.org"
make# depends : python-setuptools
check# depends : python-arrow python-numpy python-pytest-runner python-pytest-benchmark
              python-ruamel-yaml
opt# depends : python-arrow: for Timestamp
            python-numpy: for array serialization with Numpy protocol
            python-ruamel-yaml: for KaitaiStruct KSY exporter
source="$name-$version.tar.gz::https://github.com/construct/construct/archive/v$version.tar.gz"
sha512sums=ef2f0bbcf4cbcf4862033b16ccb428f84d63ca5c867157b47e38b441cb439c953b543cf69f352c0542525fd07b37d1b3b68910ae5331c482e75b4af937e116a1

build()-delete {
   cd construct-$version
  python setup.py build
}

check {
   cd construct-$version
  python setup.py pytest
}

options="!checksum"

build() {
   cd construct-$version
  python setup.py build
  python setup.py install --root=$PKG --optimize=1
}
