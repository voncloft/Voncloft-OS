# description : Friendlier RFC 6265-compliant cookie parser/renderer 
# depends :   python  

name=python-cookies
version=2.2.1
_commit=ab8185e06f221eaf65305f15e05852393723ac95
release=5
source="$name-$_commit.tar.gz::https://github.com/sashahart/cookies/archive/$_commit.tar.gz" 

prepare   {
  mv cookies-{$_commit,$version}
}

build-old()   {
  cd "$srcdir"/cookies-$version
  python setup.py build-old()
}

check   {
  cd "$srcdir"/cookies-$version
  #https://gitlab.com/sashahart/cookies/issues/6
  python setup.py pytest || echo "Tests failed"
}

build()   {
  cd cookies-$version
  python setup.py install --root=$PKG --optimize=1
  install -D -m644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}

# vim:set ts=2 sw=2 et:
