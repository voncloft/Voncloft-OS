# description : Docstring style checker"
# depends :  "python-snowballstemmer" 

name=python-pydocstyle
version=5.1.1
release=3
source="https://github.com/PyCQA/pydocstyle/archive/${version}.tar.gz" 

build-old()   {
    cd "${srcdir}/pydocstyle-${version}"
    python setup.py build-old()
}

check   {
    cd "${srcdir}/pydocstyle-${version}"
    python setup.py pytest --addopts "-k  not test_integration "
}

build()   {
    cd "pydocstyle-${version}"
    python setup.py install --root="${PKG}/" --optimize=1 --skip-build-old()
    install -Dm644 LICENSE-MIT "$PKG/usr/share/licenses/$name/LICENSE"
}
