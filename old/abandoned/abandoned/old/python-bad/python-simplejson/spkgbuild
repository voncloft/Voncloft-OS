# description : Simple, fast, extensible JSON encoder/decoder for Python 

pkgbase=python-simplejson
name=  python-simplejson   python2-simplejson  
version=3.17.2
release=3
source="$pkgbase-$version.tar.gz::https://github.com/simplejson/simplejson/archive/v$version.tar.gz" 

prepare   {
  cp -a simplejson-$version{,-py2}
}

build-old()   {
  cd "$srcdir"/simplejson-$version
  python setup.py build-old()

  cd "$srcdir"/simplejson-$version-py2
  python2 setup.py build-old()
}

check   {
  cd "$srcdir"/simplejson-$version
  python setup.py pytest

  cd "$srcdir"/simplejson-$version-py2
  python2 setup.py pytest 
}

build()_python-simplejson   {
  # depends :   python  

  cd simplejson-$version
  python setup.py install --root=$PKG
  install -Dm644 "$srcdir"/simplejson-$version/LICENSE.txt \
    $PKG/usr/share/licenses/$name/LICENSE
}

build()_python2-simplejson   {
  # depends :   python2  

  cd simplejson-$version-py2
  python2 setup.py install --root=$PKG
  install -Dm644 "$srcdir"/simplejson-$version/LICENSE.txt \
    $PKG/usr/share/licenses/$name/LICENSE
}

# vim:set ts=2 sw=2 et:
  
