# description : Python bindings for Xapian"
# depends :   gcc-libs   glibc   python   zlib  

name=python-xapian
_name=xapian-bindings
version=1.4.18
release=1
epoch=1
source="https://oligarchy.co.uk/xapian/${version}/${_name}-${version}.tar.xz"{,.asc} 
             SKIP  
         SKIP  
validpgpkeys=  08E2400FF7FE8FEDE3ACB52818147B073BAD2B07   # Olly Betts <olly@debian.org>

prepare   {
  cd "${_name}-${version}"
  autoreconf -vfi
}

build-old()   {
  cd "${_name}-${version}"
  ./configure --prefix=/usr \
              --with-python3
  make
}

check   {
  cd "${_name}-${version}"
  make check
}

build()   {
  depends+=  libuuid.so   libxapian.so  
  cd "${_name}-${version}"
  make DESTDIR=$PKG install
    -t "${PKG}/usr/share/doc/${_name}"
}
# vim:set ts=2 sw=2 et:
