# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Maintainer: Douglas Soares de Andrade <dsandrade@gmail.com>
# Contributor: Douglas Soares de Andrade <dsandrade@gmail.com>

pkgbase=python-pyserial
name=('python-pyserial' 'python2-pyserial')
version=3.5
release=1
pkgdesc="Multiplatform Serial Port Module for Python"
url="https://github.com/pyserial/pyserial"
makedepends=('python2' 'python')
source=("$name-$version.tar.gz::https://github.com/pyserial/pyserial/archive/v$version.tar.gz")
sha256sums=('81cbbb8147f11cbaefea8bacece25adeffeb2b5503a571e686d4658863fdd6c6')

build() {
  cp -a "$srcdir"/pyserial-${version} "$srcdir"/py2serial-${version}
}

package_python-pyserial() {
  depends=('python')

  cd "$srcdir"/pyserial-${version}
  python setup.py install --root="$pkgdir"
  install -D -m644 LICENSE.txt "$pkgdir"/usr/share/licenses/$name/LICENSE.txt
}

package_python2-pyserial() {
  depends=('python2')

  cd "$srcdir"/py2serial-${version}
  python2 setup.py install --root="$pkgdir"
  install -D -m644 LICENSE.txt "$pkgdir"/usr/share/licenses/$name/LICENSE.txt
}
