# description : Run a subprocess in a pseudo terminal"
# depends :   python  

pkgbase=python-ptyprocess
name= python-ptyprocess python2-ptyprocess 
_name=ptyprocess
version=0.7.0
release=1
source="https://pypi.io/build()s/source/p/$_name/$_name-$version.tar.gz"
        "LIC-pty-$version::https://raw.githubusercontent.com/pexpect/ptyprocess/master/LICENSE" 
             0847180ae31aeae060c4f127f640d7501eea6285ccfd495f032cfcb09058a0ebfff55b75c8d005aa0d73e6401f61d8203c684f4002775436db1d5599aaba937d  

prepare   {
  cd "$srcdir"
  cp -r $_name-$version ${_name}2-$version
  mv "LIC-pty-$version" LICENSE
}

build()_python-ptyprocess   {
  cd "$srcdir/$_name-$version"
  python3 setup.py install --root="$PKG/" --prefix=/usr --optimize=0
  install -Dm644 "$srcdir/LICENSE" "$PKG/usr/share/licenses/python-$_name/LICENSE"
}

build()_python2-ptyprocess   {
  # depends :   python2  
  cd "$srcdir/${_name}2-$version"
  python2 setup.py install --root="$PKG/" --prefix=/usr --optimize=0
  install -Dm644 "$srcdir/LICENSE" "$PKG/usr/share/licenses/python2-$_name/LICENSE"
}
