# description : "Websocket handler for the gevent pywsgi server, a Python network library"
# depends : python-gevent

name=python-karellen-geventws
version=1.0.2
release=3
url="https://github.com/karellen/karellen-geventws"
make# depends : python-pybuild()er python-karellen-pyb-plugin python-cram flake8 python-sphinx
             python-unittest-xml-reporting python-wsaccel git
opt# depends : python-wsaccel: for better performance
source="git+https://github.com/karellen/karellen-geventws.git#tag=$version"
sha512sums=SKIP

check {
   cd "$srcdir"/karellen-geventws
  pyb -v analyze
}

options="!checksum"

build() {
   cd karellen-geventws
  pyb -v -o package
   cd target/dist/karellen-geventws-$version
  python setup.py build
  python setup.py install --root=$PKG -O1
}
