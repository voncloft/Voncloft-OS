# description : Threat9 Test Bed
# depends : python python-setuptools python-click python-faker python-flask

name=python-threat9-test-bed
_pyname=threat9-test-bed
_gitcommit=1ed61b34d0b138711e3f8267259cdb29787fe349
version=0.6.0+2+g1ed61b3
release=4
url=https://github.com/threat9/threat9-test-bed
         gunicorn python-pyopenssl python-requests
make# depends : git python-setuptools-scm
check# depends : python-pytest
source=${name}::"git+https://github.com/threat9/threat9-test-bed#commit=${_gitcommit}"
sha512sums=SKIP

version {
   cd ${name}
  git describe --always --tags | sed s/^v//;s/-/+/g
}

build()-delete {
   cd ${name}
  python setup.py build
}

check {
   cd ${name}
  python -m pytest
}

options="!checksum"

build() {
   cd ${name}
  python setup.py build
  python setup.py install--root=$PKG  -O1 
}

