# description : "Jupyter core package. A base package on which Jupyter projects rely."
# depends : python-traitlets

name=python-jupyter_core
version=4.6.3
release=4
url="https://pypi.python.org/pypi/jupyter_core"
make# depends : python-setuptools
check# depends : python-pytest python-nose
source="$name-$version.tgz::https://github.com/jupyter/jupyter_core/archive/$version.tar.gz"
sha256sums=ae2da229683fd091286c05acbbbac1b5279031a0454c0106b2547ba853ad2ac8

prepare {
   cd "$srcdir/jupyter_core-$version"
}

build()-delete {
   cd "$srcdir"
}

check {
   cd "$srcdir/jupyter_core-$version"
  pytest \
    --deselect jupyter_core/tests/test_command.py::test_not_on_path \
    --deselect jupyter_core/tests/test_command.py::test_path_priority
}

options="!checksum"

build() {
   cd "$srcdir/jupyter_core-$version"
  python3 setup.py install   --root=$PKG --optimize=0
  install -Dm644 examples/jupyter-completion.bash "$PKG/usr/share/bash-completion/completions/jupyter"
  install -Dm644 examples/completions-zsh "$PKG/usr/share/zsh/site-functions/_jupyter"
}
