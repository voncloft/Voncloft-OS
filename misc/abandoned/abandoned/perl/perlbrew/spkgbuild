# description : Manage perl installations in your $HOME
# depends : perl perl-capture-tiny perl-cpan-perl-releases perl-devel-patchperl

name=perlbrew
version=0.89
release=1
url=https://metacpan.org/release/App-perlbrew
         perl-file-path-tiny perl-local-lib
make# depends : perl-module-build-tiny
check# depends : perl-test-exception perl-test-output perl-test-spec
              perl-path-class perl-io-all
source="https://search.cpan.org/CPAN/authors/id/G/GU/GUGOD/App-perlbrew-$version.tar.gz"
options="!checksum"
sha1sums=5a4bde39ae4a63d260438a3ec68b7566ccb64d0f

build-delete {
   cd App-perlbrew-$version
  unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
  export PERL_MM_USE_DEFAULT=1 MODULEBUILDRC=/dev/null
  perl Build.PL
  ./Build
}

build() {
   cd App-perlbrew-$version
  unset PERL5LIB PERL_MM_OPT PERL_MB_OPT PERL_LOCAL_LIB_ROOT
  ./Build install --installdirs=vendor --destdir=$PKG
}
build() {
    cd
   perl Makefile.PL
   make
   make DESTDIR=$PKG install
}
