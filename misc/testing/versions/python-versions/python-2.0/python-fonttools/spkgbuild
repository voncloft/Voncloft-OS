# description : A library to manipulate font files from Python"
# depends :  "python" 

name=python-fonttools
version=4.19.1
release=1
	    "python-fs: to read/write UFO source files, "
	    "python-brotli: to compress/decompress WOFF 2.0 web fonts"
	    "python-zopfli: faster backend fom WOFF 1.0 web fonts compression"
	    "python-scipy: for finding wrong contour/component order between different masters"
	    "python-matplotlib: for visualizing DesignSpaceDocument and resulting VariationModel"
	    "python-unicodedata2: for displaying the Unicode character names when dumping the cmap table with ttx"
	    "python-sympy: for symbolic font statistics analysis"
	    "python-pyqt5: for drawing glyphs with Qt s QPainterPath"
	    "python-reportlab: to drawing glyphs as PNG images"
            "python-lz4: for graphite type tables in ttLib/tables" 
source="https://github.com/fonttools/fonttools/archive/${version}/fonttools-${version}.zip" 

build-old()   {
  cd "$srcdir"/fonttools-${version}
  python setup.py build-old()_ext --inplace
  python setup.py build-old()
}

build()   {
  cd "$srcdir"/fonttools-${version}
  python setup.py install --skip-build-old() --root=$PKG --optimize=1
  install -D -m755 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}
