# description : Python-based project scripting"
# depends :   python-six  

name=python-paver
version=1.3.4
release=4
source="https://github.com/paver/paver/archive/Paver-$version.tar.gz" 

prepare   {
  cd paver-Paver-$version
  sed -i  s/from unittest2 import/from unittest import/  tests_integration/*.py
}

build-old()   {
  cd paver-Paver-$version
  python setup.py build-old()
}

check   {
  cd paver-Paver-$version
  #https://github.com/paver/paver/issues/205
  python setup.py nosetests || :
}

build()   {
  cd paver-Paver-$version
  python setup.py install --root=$PKG --optimize=1
  install -Dm644 LICENSE.txt $PKG/usr/share/licenses/$name/LICENSE.txt
}
