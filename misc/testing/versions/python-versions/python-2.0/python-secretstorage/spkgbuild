# description : Securely store passwords and other private data using the SecretService DBus API"
# depends :   python-cryptography   python-jeepney  

name=python-secretstorage
_name=SecretStorage
version=3.3.0
release=1
source="https://pypi.io/build()s/source/${_name:0:1}/$_name/$_name-$version.tar.gz" 

build-old()   {
  cd $_name-$version

  python setup.py build-old()
}

check   {
  cd $_name-$version

  dbus-launch xvfb-run -a python -m unittest discover -s tests || echo "Tests failed"
}

build()   {
  cd $_name-$version

  python setup.py install --root=$PKG -O1
  install -Dm 644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}
