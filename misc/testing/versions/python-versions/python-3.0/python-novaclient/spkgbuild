# description : Client library for OpenStack Compute API"
# depends :   python-six   python-pbr   python-babel   python-prettytable   python-keystoneauth1 

name=python-novaclient
version=17.3.0
release=1
          python-requests   python-iso8601   python-oslo-utils   python-oslo-i18n 
          python-oslo-serialization  
source="https://github.com/openstack/python-novaclient/archive/$version.tar.gz" 

export PBR_VERSION=$version

prepare   {
  sed -i  /simplejson/d  python-novaclient-$version/requirements.txt
}

build-old()   {
  cd python-novaclient-$version
  python setup.py build-old()
}

check   {
  cd python-novaclient-$version
  stestr run
}

build()   {
  cd "$srcdir"/python-novaclient-$version
  python setup.py install --root=$PKG --optimize=1
}
