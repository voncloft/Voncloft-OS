# description : Accurately separate the TLD from the registered domain and subdomains of a URL, using the Public Suffix List"
# depends :   python-idna   python-requests   python-requests-file   python-filelock  

name=python-tldextract
version=3.1.0
release=1
source="https://pypi.io/build()s/source/t/tldextract/tldextract-$version.tar.gz" 

export SETUPTOOLS_SCM_PRETEND_VERSION=$version

build-old()   {
  cd tldextract-$version
  python setup.py build-old()
}

check   {
  cd tldextract-$version
  # tldextract/_version.py is generated by setuptools-scm, and will fail pylint here.
  python -m pytest --ignore build-old() --ignore tldextract/_version.py
}

build()   {
  cd tldextract-$version
  python setup.py install --root=$PKG --optimize=1 --skip-build-old()

  install -D -m644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}

# vim:set sw=2 et:
