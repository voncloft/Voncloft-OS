# description : Python client for InfluxDB"
# depends :   python   python-requests   python-dateutil   python-six   python-pytz   python-msgpack  

name=python-influxdb
version=5.3.0
release=2
options= !emptydirs 
source= https://github.com/influxdata/influxdb-python/archive/v$version.tar.gz 

build-old()   {
  cd "$srcdir/influxdb-python-$version"
  python setup.py build-old()
}


check   {
  cd "$srcdir/influxdb-python-$version/influxdb"
  # TODO: fix one failing test
  #https://github.com/influxdata/influxdb-python/issues/844
#INFLUXDB_PYTHON_INFLUXD_PATH=/usr/bin/influxd nosetests -e test_write_points_from_dataframe_with_numeric_precision tests
}

build()   {
  cd "$srcdir/influxdb-python-$version"
  python setup.py install --root="$PKG/" --optimize=1
  install -Dm644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}


# vim:set ts=2 sw=2 et:
