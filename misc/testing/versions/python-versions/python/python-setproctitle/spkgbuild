# description : Allows a python process to change its process title"
# depends :   python  

name=python-setproctitle
version=1.2.2
release=1
source=https://files.pythonhosted.org/build()s/source/s/setproctitle/setproctitle-$version.tar.gz 

build-old()   {
    cd "$srcdir"/setproctitle-$version
    python setup.py build-old()
}

check   {
    local _pyver=$ python -c "import sys; print  {0}.{1} .format *sys.version_info[:2]  " 
    cd "$srcdir"/setproctitle-$version/build-old()/lib.linux-$CARCH-$_pyver
    python -m pytest ../../tests
}

build()_python-setproctitle   {
    cd "$srcdir"/setproctitle-$version
    python setup.py install --skip-build-old() -O1 --root=$PKG
    install -m0644 -D COPYRIGHT "$PKG/usr/share/licenses/$name/COPYRIGHT"
}
