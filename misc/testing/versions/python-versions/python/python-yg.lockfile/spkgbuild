# description : Lockfile object with timeouts and context manager"
# depends :   python-zc.lockfile   python-tempora   python-jaraco  

name=python-yg.lockfile
version=2.3
release=1
source="https://github.com/yougov/yg.lockfile/archive/$version/$name-$version.tar.gz" 

export SETUPTOOLS_SCM_PRETEND_VERSION=$version

build-old()   {
  cd yg.lockfile-$version
  python setup.py build-old()
}

check   {
  cd yg.lockfile-$version
  python -m pytest
}

build()   {
  cd yg.lockfile-$version
  python setup.py install --root=$PKG --optimize=1

  # Will be available in next version
  #install -Dm644 LICENSE -t $PKG/usr/share/licenses/$name/
}
