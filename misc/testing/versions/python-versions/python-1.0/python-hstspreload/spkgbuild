
_name=hstspreload
name=python-hstspreload
version=2020.7.7
release=3
# description : Chromium HSTS Preload list as a Python package"
# depends :   python  
#source="${name}-${version}.tar.gz::${url}/archive/${version}.tar.gz" 
source="https://files.pythonhosted.org/packages/source/${_name:0:1}/${_name}/${_name}-${version}.tar.gz" 

build   {
    cd "${srcdir}"/${_name}-${version}

    python setup.py build
}

# This runs around 230k tests, checking to see if the online list matches the current one.
# It can take 5 minutes just to collect the tests. They re not distributed in the PyPI tarball.
#check   {
#    cd "${srcdir}"/${_name}-${version}
#
#    python -m pytest
#}

package   {
    cd "${srcdir}"/${_name}-${version}

    python setup.py install --root=$PKG --optimize=1 --skip-build
    install -Dm644 LICENSE $PKG/usr/share/licenses/${name}/LICENSE
}
