
name=python-neutronclient
version=7.3.0
release=1
# description : OpenStack Networking  Neutron  Client"
# depends :   python-pbr   python-cliff   python-debtcollector   python-iso8601   python-netaddr 
          python-osc-lib   python-oslo-i18n   python-oslo-log   python-oslo-serialization 
          python-oslo-utils   python-os-client-config   python-keystoneauth1 
          python-keystoneclient   python-requests   python-simplejson  
source="https://github.com/openstack/python-neutronclient/archive/$version/$name-$version.tar.gz" 

export PBR_VERSION=$version

build   {
  cd python-neutronclient-$version
  python setup.py build
}

check   {
  cd python-neutronclient-$version
  #https://salsa.debian.org/openstack-team/clients/python-neutronclient/-/blob/debian/ussuri/debian/rules
  stestr run  neutronclient\.tests\.unit\. ?! .*osc\.v2\.fwaas\.test_firewallrule\.TestShowFirewallRule\.test_show_filtered_by_id_or_name.*|.*osc\.v2\.fwaas\.test_firewallrule\.TestListFirewallRule\.test_list_with_long_option.*|.*osc\.v2\.fwaas\.test_firewallrule\.TestCreateFirewallRule\.test_create_with_no_options.*|.*osc\.v2\.fwaas\.test_firewallrule\.TestCreateFirewallRule\.test_create_with_all_params_protocol_any.*   
}

package   {
  cd python-neutronclient-$version
  python setup.py install --root=$PKG --optimize=1
}
