
name=python-pyassert
version=0.4.2
release=6
# description : Rich assertions library for Python 
# depends :   python-six  
              flake8   pychecker  
source="https://github.com/pyclectic/pyassert/archive/v$version.tar.gz" 

prepare   {
  # Pybuilder uses directory name to determine distribution name
  mv pyassert-$version pyassert

  # BUILD FAILED - Missing plugin dependency  pychecker :
  #   pip._internal.exceptions.DistributionNotFound:
  #     No matching distribution found for pychecker
  sed -i  /use_plugin "python.pychecker" /d  pyassert/build.py
}

check   {
  cd pyassert
  pyb -v analyze || warning "ignoring flake8 warnings"
}

package   {
  cd pyassert
  pyb -v package
  cd target/dist/pyassert-$version
  python setup.py install --root=$PKG -O1
}
