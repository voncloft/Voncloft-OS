
_name=u-msgpack-python
pkgbase= python-u-msgpack 
name=  python-u-msgpack   python2-u-msgpack  
version=2.7.1
release=1
source="https://files.pythonhosted.org/packages/source/${_name:0:1}/${_name}/${_name}-${version}.tar.gz" 

build   {
    cd "${srcdir}/${_name}-${version}"

    python setup.py build
    python2 setup.py build
}

check   {
    cd "${srcdir}/${_name}-${version}"

    pytest
    pytest2
}

package_python-u-msgpack   {
    # description : portable, lightweight MessagePack serializer and deserializer for Python"
    # depends :   python  

    cd "${srcdir}/${_name}-${version}"
    python setup.py install --root=$PKG --optimize=1 --skip-build

    install -Dm644 LICENSE "${PKG}/usr/share/licenses/${name}/LICENSE"
}

package_python2-u-msgpack   {
    # description : portable, lightweight MessagePack serializer and deserializer for Python2"
    # depends :   python2  

    cd "${srcdir}/${_name}-${version}"
    python2 setup.py install --root=$PKG --optimize=1 --skip-build

    install -Dm644 LICENSE "${PKG}/usr/share/licenses/${name}/LICENSE"
}
