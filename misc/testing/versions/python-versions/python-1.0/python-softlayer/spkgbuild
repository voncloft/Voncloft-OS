
name=python-softlayer
version=5.9.2
release=2
# description : A library for SoftLayer s API"
# depends :   python-six   python-ptable   python-click   python-requests   python-prompt_toolkit 
          python-pygments   python-urllib3  
source="https://github.com/softlayer/softlayer-python/archive/v$version.tar.gz" 

prepare   {
  cd softlayer-python-$version
  sed -i  s/==/>=/  setup.py
}

build   {
  cd softlayer-python-$version
  python setup.py build
}

check   {
  cd softlayer-python-$version
  python setup.py pytest --addopts  -k "not test_edit_perms_on_bad" 
}

package   {
  cd softlayer-python-$version
  python setup.py install --root=$PKG --optimize=1
  install -D -m644 LICENSE $PKG/usr/share/licenses/$name/LICENSE

  # It s only present when tests are enabled, so adding -f
  rm -rf $PKG/usr/lib/python3.9/site-packages/tests
}

# vim:set ts=2 sw=2 et:
