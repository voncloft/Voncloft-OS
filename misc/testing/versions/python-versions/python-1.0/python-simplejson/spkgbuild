
pkgbase=python-simplejson
name=  python-simplejson   python2-simplejson  
version=3.17.2
release=3
# description : Simple, fast, extensible JSON encoder/decoder for Python 
source="$pkgbase-$version.tar.gz::https://github.com/simplejson/simplejson/archive/v$version.tar.gz" 

prepare   {
  cp -a simplejson-$version{,-py2}
}

build   {
  cd "$srcdir"/simplejson-$version
  python setup.py build

  cd "$srcdir"/simplejson-$version-py2
  python2 setup.py build
}

check   {
  cd "$srcdir"/simplejson-$version
  python setup.py pytest

  cd "$srcdir"/simplejson-$version-py2
  python2 setup.py pytest 
}

package_python-simplejson   {
  # depends :   python  

  cd simplejson-$version
  python setup.py install --root=$PKG
  install -Dm644 "$srcdir"/simplejson-$version/LICENSE.txt \
    $PKG/usr/share/licenses/$name/LICENSE
}

package_python2-simplejson   {
  # depends :   python2  

  cd simplejson-$version-py2
  python2 setup.py install --root=$PKG
  install -Dm644 "$srcdir"/simplejson-$version/LICENSE.txt \
    $PKG/usr/share/licenses/$name/LICENSE
}

# vim:set ts=2 sw=2 et:
  
