
name=python-flask-jwt
version=0.3.2
release=7
# description : JWT token authentication for Flask apps"
# depends :   python-flask   python-pyjwt  
source="https://github.com/mattupstate/flask-jwt/archive/$version.tar.gz" 

prepare   {
  # Too old options
  sed -i  s/,<1.5.0//  flask-jwt-$version/requirements.txt
  echo > flask-jwt-$version/requirements-dev.txt
  rm flask-jwt-$version/setup.cfg
}

build   {
  cd flask-jwt-$version
  python setup.py build
}

check   {
  cd flask-jwt-$version
  python setup.py pytest
}

package   {
  cd flask-jwt-$version
  python setup.py install --root=$PKG --optimize=1
  install -Dm644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}
