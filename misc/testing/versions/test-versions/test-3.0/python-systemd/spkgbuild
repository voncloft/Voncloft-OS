
pkgbase=python-systemd
name=(python-systemd python2-systemd)
version=234
release=7
# description : "Python bindings for systemd"

version() {
  cd $pkgbase
  git describe --tags | sed 's/^v//;s/-/+/g'
}

prepare() {
  cp -a $pkgbase python2
  cp -a $pkgbase python3
}

build-remove() {
  cd python3
  make PYTHON=/usr/bin/python3

  cd ../python2
  make PYTHON=/usr/bin/python2
}

package_python-systemd() {
  # depends : (python3 libsystemd)

  cd python3
  python3 setup.py install --root=$PKG --optimize=1 --skip-build
}

package_python2-systemd() {
  # depends : (python2 libsystemd)

  cd python2
  python2 setup.py install --root=$PKG --optimize=1 --skip-build
}
