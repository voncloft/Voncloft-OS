# description : Parse and validate simple name/value option pairs
# depends : perl-params-util perl-scalar-list-utils perl-sub-install

name=perl-data-optlist
version=0.110
release=6
make# depends : perl-extutils-makemaker
url=https://metacpan.org/release/Data-OptList
source="https://search.cpan.org/CPAN/authors/id/R/RJ/RJBS/Data-OptList-$version.tarsource=.gz"
options=!checksum
md5sums=f9236c9ea5607134ad8a2b3dc901c4c5

build-delete {
   export PERL_MM_USE_DEFAULT=1 PERL5LIB=  \
      PERL_AUTOINSTALL=--skipdeps             \
      PERL_MM_OPT=INSTALLDIRS=vendor        \
      PERL_MB_OPT=--installdirs vendor      \
      MODULEBUILDRC=/dev/null
    cd $srcdir/Data-OptList-$version

    /usr/bin/perl Makefile.PL
    make
  
}

check {
   export PERL_MM_USE_DEFAULT=1 PERL5LIB=
    cd $srcdir/Data-OptList-$version

    make test
  
}

build() {
  cd $srcdir/Data-OptList-$version

  make DESTDIR=$PKG/ install
}
