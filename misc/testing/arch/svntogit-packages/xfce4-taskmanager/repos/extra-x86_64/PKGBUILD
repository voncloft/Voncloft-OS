# Maintainer: Evangelos Foutras <evangelos@foutrelis.com>

pkgname=xfce4-taskmanager
pkgver=1.4.1
pkgrel=1
pkgdesc="Easy to use task manager"
arch=('x86_64')
url="https://docs.xfce.org/apps/xfce4-taskmanager"
license=('GPL2')
depends=('libwnck3' 'libxmu')
makedepends=('intltool')
groups=('xfce4-goodies')
source=(https://archive.xfce.org/src/apps/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.bz2
        ellipsize-memory-and-swap-labels.patch)
sha256sums=('1141d2fde7bd498ccc2ce063800721e3ebb62dc9c9278cf1e2842df474965b5b'
            '32315f08756ce208631eac89f7981e22d33d3cbb060c4d513861931eaa0f0793')

prepare() {
  cd "$srcdir/$pkgname-$pkgver"

  # https://gitlab.xfce.org/apps/xfce4-taskmanager/-/issues/32
  patch -Np1 -i ../ellipsize-memory-and-swap-labels.patch
}

build() {
  cd "$srcdir/$pkgname-$pkgver"

  ./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --localstatedir=/var \
    --disable-debug
  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  make DESTDIR="$pkgdir" install
}

# vim:set ts=2 sw=2 et:
