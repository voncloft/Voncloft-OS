# Maintainer: Levente Polyak <anthraxx[at]archlinux[dot]org>
# Contributor: Dmitry Chusovitin <dchusovitin@gmail.com>

pkgname=rabbitmqadmin
pkgver=3.8.9
pkgrel=1
pkgdesc='Command-line tool for managing RabbitMQ server (requires "management" plugin)'
url='https://www.rabbitmq.com/management-cli.html'
arch=('any')
license=('MPL')
depends=('python')
source=(https://github.com/rabbitmq/rabbitmq-management/archive/v${pkgver}/${pkgname}-${pkgver}.tar.gz)
sha512sums=('a653f99b9ecae532ce4d49790cd7ae07a93a628a1f955f6d6e33c5fd6f08fb9a0afbcd91e4e3b542cc47e46447137f871dddb88c79c590fae1d95796f3f32fe5')
b2sums=('b957aa0932fad0fe4fb936d9893f0a3f05429875775b823d99fe8b77abfef31d973d353cca88cc87777d415d13343e1f9f48bf7fe1cce6f1157c4d59ea5e1a61')

prepare() {
  cd rabbitmq-management-${pkgver}
  sed -e "s|%%VSN%%|${pkgver}|" -i bin/rabbitmqadmin
}

package() {
  cd rabbitmq-management-${pkgver}
  install -Dm 755 bin/rabbitmqadmin -t "${pkgdir}/usr/bin"
  install -Dm 644 LICENSE-MPL-RabbitMQ -t "${pkgdir}/usr/share/licenses/${pkgname}"
}

# vim: ts=2 sw=2 et:
