# description : Perl extension for easily overriding subroutines
# depends : perl perl-moo perl-mouse perl-exporter-tiny perl-type-tiny perl-class-tiny
name=perl-sub-handlesvia
_cpanname=Sub-HandlesVia
version=0.016
release=1
url=https://metacpan.org/release/Sub-HandlesVia
check# depends : perl-test-requires perl-test-fatal
source="https://search.cpan.org/CPAN/authors/id/T/TO/TOBYINK/${_cpanname}-${version}.tar.gz"
options="!checksum"
sha512sums=91932d7c56e4fc1bb9e737282ee45ffdcc6d4143ee0307cbcbee9fb3b3953bd955b62bc20809cef61d4e643a4d246dbab062a636a46f951a93bdf2f22a1b04d2

build-delete {
  cd ${_cpanname}-${version}
  export PERL_MM_USE_DEFAULT=1 PERL_AUTOINSTALL=--skipdeps
  PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
  make
}

check {
  cd ${_cpanname}-${version}
  make test
}

build() {
  cd ${_cpanname}-${version}
  make DESTDIR=$PKG install
}
build() {
   cd
   perl Makefile.PL
   make
   make DESTDIR=$PKG install
}
