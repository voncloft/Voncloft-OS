# description : "PyYAML-based module to produce pretty and readable YAML-serialized data"
# depends : python-yaml

name=python-pyaml
version=20.4.0
release=4
url="https://pypi.python.org/pypi/pyaml"
make# depends : python-setuptools python-yaml
check# depends : python-unidecode
opt# depends : python-unidecode: Needed if same-id objects or recursion is used within serialized data
source="https://pypi.io/packages/source/p/pyaml/pyaml-$version.tar.gz"
sha512sums=432fd215e034beafc07270a6aa8b726d5a16ef8946a95c1db9a34b4f492bbe2089dffbb1ce856d3e8153ec18ac943973a23e3aa9283d53ee0b2e7ba5dcd3d317

build()-delete {
   cd "$srcdir"/pyaml-$version
  python setup.py build
}

check {
   cd "$srcdir"/pyaml-$version
  python setup.py test
}

options="!checksum"

build() {
   cd pyaml-$version
  python3 setup.py install --root=$PKG --optimize=1
  install -D -m644 COPYING $PKG/usr/share/licenses/$name/COPYING
}
