# description : Implementation of lex and yacc parsing tools

pkgbase=python-ply
version=3.11
release=7
url=https://www.dabeaz.com/ply/
source="https://pypi.io/packages/source/p/ply/ply-$version.tar.gz"
sha512sums=37e39a4f930874933223be58a3da7f259e155b75135f1edd47069b3b40e5e96af883ebf1c8a1bbd32f914a9e92cfc12e29fec05cf61b518f46c1d37421b20008
            5cea085a23ed260afc9084380c1d59e3942c2385089a8eb2391a89c85cde4df2ceb7eed21bb8c4d0cad5b78e59742da69e4c5c78fd0e223f5c99c56e9296a075

prepare {
  cp -a ply-$version{,-py2}
}

check {
   cd "ply-$version/test"
  python testlex.py
  python testyacc.py

   cd "$srcdir/ply-$version-py2/test"
}

package_python-ply {
  # depends : python

   cd "ply-$version"
  python setup.py build
  python setup.py install --root=$PKG

}


   cd "ply-$version-py2"

}

