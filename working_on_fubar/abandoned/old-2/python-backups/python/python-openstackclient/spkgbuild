# description : "OpenStack Command-line Client"
# depends : python-six python-pbr python-babel python-cliff python-keystoneclient

name=python-openstackclient
version=5.4.0
release=3
url="https://docs.openstack.org/python-openstackclient/latest/"
         python-keystoneauth1 python-osc-lib python-oslo-utils python-oslo-i18n
         python-openstacksdk python-glanceclient python-novaclient python-cinderclient
check# depends : python-ddt python-oslotest python-requests-mock
source="https://github.com/openstack/python-openstackclient/archive/$version/$name-$version.tar.gz"
sha512sums=5f8e7861e0b0ce7f24c34e2f460599dde95f25e909a70bee656952b8a8228b94d50def2ad277ca937c7b9de2fd790e9d28ea5e1a3f0f6d3c43501981b2897620

export PBR_VERSION=$version

build()-delete {
   cd python-openstackclient-$version
  python setup.py build
}

check {
   cd python-openstackclient-$version
  stestr run || echo "Tests failed: https://storyboard.openstack.org/#!/story/2003143"
}

options="!checksum"

build() {
   cd python-openstackclient-$version
  python setup.py build
  python setup.py install --root=$PKG --optimize=1
}
