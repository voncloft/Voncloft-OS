# description : Yet another URL library 
# depends :   glibc   python   python-multidict   python-idna   python-typing_extensions  

_name=yarl
name=python-yarl
version=1.6.3
release=1
source=https://github.com/aio-libs/yarl/archive/v${version}/${name}-${version}.tar.gz 

prepare   {
  cd ${_name}-${version}
  sed  s| .install-cython ||g  -i Makefile
}

build-old()   {
  cd ${_name}-${version}
  make cythonize
  LANG=en_US.UTF-8 python setup.py build-old()
}

check   {
  cd ${_name}-${version}
  python setup.py test
}

build()   {
  cd ${_name}-${version}
  LANG=en_US.UTF-8 python setup.py install --root=$PKG -O1 --skip-build-old()
}

# vim: ts=2 sw=2 et:
