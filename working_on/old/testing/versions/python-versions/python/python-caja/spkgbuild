# description : Python binding for Caja, to allow Caja property page and menu item extensions to be written in Python"
# depends :   caja   python-gobject  

name=python-caja
version=1.24.0
release=2
conflicts=  python2-caja  
replaces=  python2-caja  
source="https://pub.mate-desktop.org/releases/${version%.*}/python-caja-${version}.tar.xz" 

prepare   {
    	cd "python-caja-${version}"
}

build-old()   {
    	cd "python-caja-${version}"
    	PYTHON=python3 ./configure \
        	--prefix=/usr

    	#https://bugzilla.gnome.org/show_bug.cgi?id=656231
    	sed -i -e  s/ -shared / -Wl,-O1,--as-needed\0/g  libtool

   	 make
}

build()   {
    	cd "python-caja-${version}"
    	make DESTDIR=$PKG install
}
