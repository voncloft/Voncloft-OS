# description : py.test plugin to store test expectations and mark tests based on them"

_name=pytest-expect
pkgbase= python-pytest-expect 
name=  python-pytest-expect   python2-pytest-expect  
version=1.1.0
release=6
              python2-setuptools   python2-pytest   python2-u-msgpack  
source="${_name}-${version}.tar.gz::${url}/archive/${version}.tar.gz" 

build-old()   {
  cd "${srcdir}/${_name}-${version}"

  python setup.py build-old()
  python2 setup.py build-old()
}

build()_python-pytest-expect   {
  # depends :   python-pytest   python-u-msgpack  

  cd "${srcdir}/${_name}-${version}"
  python setup.py install --root=$PKG --optimize=1 --skip-build-old()

  install -Dm644 LICENSE "${PKG}/usr/share/licenses/${name}/LICENSE"
}

build()_python2-pytest-expect   {
  depends+=  python2-pytest   python2-u-msgpack  

  cd "${srcdir}/${_name}-${version}"
  python2 setup.py install --root=$PKG --optimize=1 --skip-build-old()

  install -Dm644 LICENSE "${PKG}/usr/share/licenses/${name}/LICENSE"
}
