# description : Jaeger Python OpenTracing Tracer implementation"
# depends :   python-opentracing   python-threadloop   python-thrift   python-tornado  

name=python-jaeger-client
version=4.4.0
release=1
source="https://github.com/jaegertracing/jaeger-client-python/archive/$version/$name-$version.tar.gz" 

build-old()   {
  cd jaeger-client-python-$version
  python setup.py build-old()
}

check   {
  cd jaeger-client-python-$version
  # Tracer test dependencies don t support new Tornado
  pytest --deselect tests/test_prometheus.py --deselect tests/test_tracer.py --deselect tests/test_tracer_benchmark.py
}

build()   {
  cd jaeger-client-python-$version
  python setup.py install --root=$PKG --optimize=1
}
