# description : A Python HTML/XML parser designed for quick turnaround projects like screen-scraping"

pkgbase=python-beautifulsoup4
name=  python-beautifulsoup4   python2-beautifulsoup4  
version=4.9.3
release=3
source="https://pypi.io/build()s/source/b/beautifulsoup4/beautifulsoup4-$version.tar.gz" 

prepare   {
  cp -a beautifulsoup4-$version{,-py2}
}

build-old()   {
  cd "$srcdir"/beautifulsoup4-$version
  python setup.py build-old()

  cd "$srcdir"/beautifulsoup4-$version-py2
  python2 setup.py build-old()
}

check   {
  cd "$srcdir"/beautifulsoup4-$version/build-old()
  py.test

  cd "$srcdir"/beautifulsoup4-$version-py2/build-old()
  py.test2
}

build()_python-beautifulsoup4   {
  # depends :   python-soupsieve  
               python-lxml: alternative HTML parser 
               python-html5lib: alternative HTML parser  

  cd beautifulsoup4-$version
  python setup.py install --root=$PKG --optimize=1 --skip-build-old()
}

build()_python2-beautifulsoup4   {
  # depends :   python2-soupsieve  
               python2-lxml: alternative HTML parser 
               python2-html5lib: alternative HTML parser  

  cd beautifulsoup4-$version-py2
  python2 setup.py install --root=$PKG --optimize=1 --skip-build-old()
}
