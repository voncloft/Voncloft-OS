
name=python-sphinx
version=3.4.3
release=1
# description : Python documentation generator 
# depends :   python-babel 
          python-docutils 
          python-imagesize 
          python-jinja 
          python-pygments 
          python-requests 
          python-setuptools 
          python-snowballstemmer 
          python-sphinx-alabaster-theme 
          python-sphinxcontrib- {{apple,dev,html}help,jsmath,qthelp,serializinghtml} 
               imagemagick   librsvg 
               python-html5lib 
               python-pytest 
               texlive-fontsextra   texlive-latexextra  
             texlive-latexextra: for generation of PDF documentation  
source="https://pypi.org/packages/source/S/Sphinx/Sphinx-$version.tar.gz"{,.asc} 
             SKIP  
         SKIP  
validpgpkeys=  8A11B79A5D0D749A66F0A030102C2C17498D6B9E   # Takeshi KOMIYA <i.tkomiya@gmail.com>
               E9BEABB07E7B9CC3F56E62C91425F8CE5EBA0E07   # Takayuki Shimizukawa <shimizukawa@gmail.com>

build   {
  cd Sphinx-$version
  make build
}

check   {
  cd Sphinx-$version
  LC_ALL="en_US.UTF-8" make test
  rm -r tests
}

package   {
  cd Sphinx-$version
  export PYTHONHASHSEED=0
  python setup.py install --root=$PKG --optimize=1 --skip-build
  install -Dm644 -t $PKG/usr/share/licenses/$name LICENSE
}

# vim:set ts=2 sw=2 et:
