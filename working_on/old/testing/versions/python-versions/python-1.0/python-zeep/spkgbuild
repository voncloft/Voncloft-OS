
name=python-zeep
version=4.0.0
release=3
# description : A fast and modern Python SOAP client"
# depends :   python-appdirs   python-attrs   python-cached-property   python-defusedxml 
          python-isodate   python-lxml   python-requests   python-requests-toolbelt 
          python-requests-file   python-pytz  
               python-pytest-cov   python-requests-mock   python-pytest-httpx 
               python-pytest-asyncio   python-aiohttp   python-aioresponses   python-xmlsec  
source="https://github.com/mvantellingen/python-zeep/archive/$version.tar.gz" 

prepare   {
  sed -i -e  s/==/>=/  -e  /flake8/d  -e  /isort/d  python-zeep-$version/setup.py

  #sed -i  s/get_marker/get_closest_marker/  python-zeep-$version/tests/conftest.py
}

build   {
  cd python-zeep-$version
  python setup.py build
} 

check   {
  cd python-zeep-$version
  python setup.py pytest
}

package   {
  cd python-zeep-$version
  python setup.py install --root=$PKG --optimize=1
  install -D -m644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}
