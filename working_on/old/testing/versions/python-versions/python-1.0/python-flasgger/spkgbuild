
name=python-flasgger
version=0.9.5
release=3
# description : Extract swagger specs from your flask project"
# depends :   python-flask   python-yaml   python-jsonschema   python-mistune   python-six  
               python-apispec-webframeworks   python-flask-restful   python-flask-jwt  
source="https://github.com/flasgger/flasgger/archive/$version.tar.gz" 

prepare   {
  cd flasgger-$version
  # apispec 4
  sed -i  s/schema2parameters v /schema2parameters v, location="body" /  flasgger/marshmallow_apispec.py
}

build   {
  cd flasgger-$version
  python setup.py build
}

check   {
  cd flasgger-$version
  PYTHONPATH="$PWD/etc/flasgger_package" python -m pytest tests
}

package   {
  cd flasgger-$version
  python setup.py install --root=$PKG --optimize=1
}
