
name=python-plyvel
version=1.2.0
release=3
# description : A fast and feature-rich Python interface to LevelDB"
# depends :   leveldb   python  
source="https://pypi.io/packages/source/p/plyvel/plyvel-$version.tar.gz" 

prepare   {
  # Shipped egg-info has wrong permission etc
  cd plyvel-$version
  make clean
}

build   {
  cd plyvel-$version
  make cython
  python setup.py build
}

check   {
  cd plyvel-$version
  python setup.py pytest
}

package   {
  cd plyvel-$version
  python setup.py install --root=$PKG --optimize=1
  install -Dm644 LICENSE.rst $PKG/usr/share/licenses/$name/LICENSE.rst
}
