
name=python-paho-mqtt
version=1.5.0
release=2
# description : Python client library for MQTT v3.1 and v3.1.1"
# depends :   python  
source=https://github.com/eclipse/paho.mqtt.python/archive/v${version}.tar.gz 

prepare   {
  cd paho.mqtt.python-${version}
  sed -i  /addopts/d  setup.cfg
}

build   {
  cd paho.mqtt.python-${version}
  python setup.py build
}

check   {
  cd paho.mqtt.python-${version}
  PYTHONPATH=$PWD/src pytest tests
}

package_python-paho-mqtt   {
  cd paho.mqtt.python-${version}
  python setup.py install --root=$PKG --optimize=1 --skip-build
  install -Dm644 LICENSE.txt "${PKG}/usr/share/licenses/${name}/LICENSE"
}
