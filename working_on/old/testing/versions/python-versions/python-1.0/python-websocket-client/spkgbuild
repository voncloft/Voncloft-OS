
_pkgbase= websocket-client 
__pkgbase="${_pkgbase//-/_}"
name=python-${_pkgbase}
version=0.57.0
release=3
# description : WebSocket client library for Python"
# depends :   python-six  
source="https://pypi.io/packages/source/w/${_pkgbase}/${__pkgbase}-${version}.tar.gz" 

prepare   {
  # Not sure why the conditions are not working :/
  sed -i "s/ backports.ssl_match_hostname //" "${srcdir}/${__pkgbase}-${version}/setup.py"
}

build   {
  cd "${srcdir}/${__pkgbase}-${version}"
  python setup.py build
}

check   {
  cd "${srcdir}/${__pkgbase}-${version}"
  python setup.py test
}

package   {
  cd "${srcdir}/${__pkgbase}-${version}"
  python setup.py install --root=$PKG --optimize=1
  install -Dm644 LICENSE "${PKG}/usr/share/licenses/${name}/LICENSE"
}

# vim:set ts=2 sw=2 ft=sh et:
