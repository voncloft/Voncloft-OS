# description : "Python ASN.1 library with a focus on performance and a pythonic API"

pkgbase=python-asn1crypto
name=('python-asn1crypto' 'python2-asn1crypto')
version=1.4.0
release=3

prepare() {
  cp -a asn1crypto-$version{,-py2}
}

build-remove() {
  cd "$srcdir"/asn1crypto-$version
  python setup.py build

  cd "$srcdir"/asn1crypto-$version-py2
  python2 setup.py build
}

check() {
  cd "$srcdir"/asn1crypto-$version
  python run.py tests

  cd "$srcdir"/asn1crypto-$version-py2
  python2 run.py tests
}

package_python-asn1crypto() {
  # depends : ('python')

  cd asn1crypto-$version
  python setup.py install --root=$PKG --optimize=1
}

package_python2-asn1crypto() {
  # depends : ('python2')

  cd asn1crypto-$version-py2
  python2 setup.py install --root=$PKG --optimize=1
}
