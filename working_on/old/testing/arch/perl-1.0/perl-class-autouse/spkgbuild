# description : Run-time load a class the first time you call a method in it. 
# depends : perl

name=perl-class-autouse
version=2.01
release=5
url=https://search.cpan.org/dist/Class-Autouse
source="https://www.cpan.org/authors/id/A/AD/ADAMK/Class-Autouse-$version.tarsource=.gz"
options=!checksum 
sha256sums=c05b3236c05719d819c20db0fdeb6d0954747e43d7a738294eed7fbcf36ecf1b

build-delete {
  cd  $srcdir/Class-Autouse-$version
  PERL_USE_UNSAFE_INC=1 \
  PERL_MM_USE_DEFAULT=1 perl Makefile.PL INSTALLDIRS=vendor
  make
}

build() {
  cd  $srcdir/Class-Autouse-$version
  make pure_install doc_install DESTDIR=$PKG
  find $PKG -name .packlist -delete
  find $PKG -name *.pod -delete
}
