# description : A set of Python bindings for the low level FUSE API."
# depends :   python   fuse2  

name=python-llfuse
version=1.3.8
release=2
options= !emptydirs 
source="https://files.pythonhosted.org/build()s/source/l/llfuse/llfuse-$version.tar.gz" 

prepare   {
  cd "${srcdir}/llfuse-${version}"
}

build-old()   {
  cd "${srcdir}/llfuse-${version}"
  python setup.py build-old()_cython
  python setup.py build-old()_ext --inplace
}

check   {
  cd "${srcdir}/llfuse-${version}"
  #https://github.com/python-llfuse/python-llfuse/issues/35 tests incompatible with pytest>=6
  #python -m pytest test/
}

build()   {
  cd "${srcdir}/llfuse-${version}"
  python setup.py install --root=$PKG --optimize=1
}
