# description : Get CPU info with pure Python 2 & 3 
# depends :   python  

name=python-py-cpuinfo
version=7.0.0
release=3
source="$pkgbase-$version.tar.gz::https://github.com/workhorsy/py-cpuinfo/archive/v$version.tar.gz" 

prepare   {
  cp -a py-cpuinfo-$version{,-py2}
}

build-old()   {
  cd "$srcdir"/py-cpuinfo-$version
  python setup.py build-old()
}

check   {
  cd "$srcdir"/py-cpuinfo-$version
  python setup.py pytest
}

build()_python-py-cpuinfo   {
  cd py-cpuinfo-$version
  python setup.py install --root $PKG --optimize=1
  install -D -m644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}
