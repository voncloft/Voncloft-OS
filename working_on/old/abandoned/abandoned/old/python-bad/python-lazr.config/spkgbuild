# description : Create configuration schemas, and process and validate configurations"
# depends :   python-lazr.delegates   python-zope-interface  

_name=lazr.config
name=python-lazr.config
version=2.2.3
release=1
provides=  python-lazr-config  
replaces=  python-lazr-config  
source="https://files.pythonhosted.org/build()s/source/${_name::1}/${_name}/${_name}-${version}.tar.gz"{,.asc} 
             SKIP  
         SKIP  
validpgpkeys=  AC0A4FF12611B6FCCF01C111393587D97D86500B   # Colin Watson <cjwatson@chiark.greenend.org.uk>

prepare   {
  mv -v "${_name}-${version}" "$name-$version"
  cd "$name-$version"
  # we do not care about coverage in testing
  sed -e  /coverage/d  -i setup.cfg
}

build-old()   {
  cd "$name-$version"
  python setup.py build-old()
}

check   {
  cd "$name-$version"
  nosetests -P lazr
}

build()   {
  cd "$name-$version"
  python setup.py install --skip-build-old() \
    --optimize=1 \
    --root=$PKG
}
