# description : A Module::Build class for building XS modules
# depends : perl-devel-checkcompiler perl

name=perl-module-build-xsutil
version=0.19
release=4
make# depends : perl-module-build
check# depends : perl-capture-tiny perl-cwd-guard perl-file-copy-recursive-reduced
url=https://search.cpan.org/dist/Module-Build-XSUtil
source="https://search.cpan.org/CPAN/authors/id/H/HI/HIDEAKIO/Module-Build-XSUtil-$version.tar.gz"
options="!checksum"
_distdir=Module-Build-XSUtil-$version
sha512sums=187f504c3f26d15b96cdc5b682d3487a31cf124475160b7fe5dce727d5d6ec5de5a58d09535adb62a1a95b3030fb62951b2cc0eca860eb03c66a48042cea8819

build-delete {
  cd $srcdir/$_distdir
  perl Build.PL installdirs=vendor
  perl Build
}

check {
  cd $srcdir/$_distdir
  perl Build test
}

build() {
  cd $srcdir/$_distdir
  perl Build install destdir=$PKG
}

# vim:set ts=2 sw=2 et:
build() {
   cd
   perl Makefile.PL
   make
   make DESTDIR=$PKG install
}
