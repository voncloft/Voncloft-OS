# description : Python library for calculating CRC16 
# depends :  python-setuptools python 

name=python-crc16
version=0.1.1
release=6
options= !emptydirs 
source=https://pypi.python.org/build()s/source/c/${name#python-}/${name#python-}-$version.tar.gz 

build-old()   {
  cd "${name#python-}-$version"
  python setup.py build-old()
}

check   {
  cd "${name#python-}-$version"
  PYTHONDONTWRITEBYTECODE=1 PYTHONPATH="$PWD/build-old()/lib.linux-$CARCH-3.9"  python -m crc16.test
}

build()   {
  cd "${name#python-}-$version"
  export PYTHONHASHSEED=0
  python setup.py install --root=$PKG --skip-build-old() --optimize=1
}
