# description : Python interfaces for ADI hardware with IIO drivers 
# depends :   libiio   python-numpy  

_name=pyadi-iio
name=python-$_name
version=0.0.4
release=2
source=" $url/archive/v$version.tar.gz" 

build-old()   {
  cd $_name-$version

  python setup.py build-old()

  cd doc

  make html
}

check   {
  cd $_name-$version

  python setup.py pytest
}

build()   {
  cd $_name-$version

  python setup.py install --root=$PKG --optimize=1 --skip-build-old()

  # Install documentation
  install -dm 755 $PKG/usr/share/doc/$name
  cp -r -a --no-preserve=ownership doc/build-old()/html $PKG/usr/share/doc/$name

  install -Dm 644 LICENSE $PKG/usr/share/licenses/$name/LICENSE
}

# vim:set ts=2 sw=2 et:
