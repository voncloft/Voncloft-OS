# description : Simple DirectMedia Layer for Perl
# depends : perl-alien-sdl perl-tie-simple

name=perl-sdl
version=2.548
release=5
url=http://sdl.perl.org
         sdl_net sdl_ttf sdl_image sdl_mixer sdl_gfx sdl_pango smpeg
make# depends : perl-module-build>=0.40
replaces=sdl_perl
conflicts=sdl_perl
provides=sdl_perl=$version
# https://metacpan.org/release/SDL
_author=FROGGS
source="https://cpan.metacpan.org/authors/id/${_author::1}/${_author::2}/$_author/SDL-$version.tar.gz"
options="!checksum"
md5sums=35faca310f0e246d5cea93a062f054d9
sha512sums=bafc49dddb7e592861f822920915c73bf0c5eea3a6c567623b48a2332c7644caf1451e457545e6666adea5e314b23b cd85a3f3a52c770abfd498c0e4c0feae85

build-delete {
   cd SDL-$version
  # Perl selects the proper CFLAGS set for binary modules
  unset CFLAGS
  # install module in vendor directories
  perl Build.PL installdirs=vendor
  perl Build
}

check {
   cd SDL-$version
  perl Build test || true
}

build() {
   cd SDL-$version
  perl Build install destdir=$PKG
}
build() {
    cd
   perl Makefile.PL
   make
   make DESTDIR=$PKG install
}
