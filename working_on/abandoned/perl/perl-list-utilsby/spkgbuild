# description : Higher-order list utility functions
# depends : perl>=5.5.0

name=perl-list-utilsby
_cpanname=List-UtilsBy
version=0.11
release=4
url=https://search.cpan.org/~pevans/$_cpanname
# Function to change to the working directory and set
# environment variables to override undesired options.
prepareEnvironment {
	 cd $sr cdir/$_cpanname-$version
	export \
		PERL_MM_USE_DEFAULT=1 \
		PERL_AUTOINSTALL=--skipdeps \
		PERL_MM_OPT=INSTALLDIRS=vendor DESTDIR=$PKG \
		PERL_MB_OPT=--installdirs vendor --destdir $PKG \
		MODULEBUILDRC=/dev/null
}
source="https://search.cpan.org/CPAN/authors/id/P/PE/PEVANS/$_cpanname-$version.tar.gz"
options="!checksum"
sha256sums=faddf43b4bc21db8e4c0e89a26e5f23fe626 cde3491ec651b6aa338627f5775a

build-delete {
	prepareEnvironment
	/usr/bin/perl Makefile.PL
	make
}

check {
	prepareEnvironment
	make test
}

build() {
	prepareEnvironment
	make install

	# Remove perllocal.pod and .packlist.
	find $PKG -name .packlist -o -name perllocal.pod -delete
}
build() {
    cd
   perl Makefile.PL
   make
   make DESTDIR=$PKG install
}
