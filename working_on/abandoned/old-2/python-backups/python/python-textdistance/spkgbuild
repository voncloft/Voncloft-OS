# description : "Compute distance between sequences"
# depends : 

_pkg=textdistance
name=python-${_pkg}
version=4.2.0
release=1
url="https://github.com/life4/textdistance"
    python-abydos
    python-jellyfish
    python-numpy
    python-levenshtein
    python-pyxdameraulevenshtein

make# depends : python-setuptools
check# depends : 
    python-pytest
    python-hypothesis
    python-isort
    python-pylev
    python-py_stringmatching
    python-tabulate

# PyPi tarballs do not have the tests
#source=https://files.pythonhosted.org/packages/source/${_pkg::1}/${_pkg}/${_pkg}-${version}.tar.gz
source=${url}/archive/v.${version}/${_pkg}-${version}.tar.gz
sha256sums=b2c9865b47a4c83e461337bcd9f038d8c202af18987d531be8a6ea5abc62b25e

build()-delete {
   cd ${_pkg}-v.${version}
  python setup.py build
}

check {
   cd ${_pkg}-v.${version}
  # Failing tests, nowhere to report themâ€¦
  pytest --deselect tests/test_external.py
}

options="!checksum"

build() {
   cd ${_pkg}-v.${version}
  python setup.py build
  python setup.py install --root=$PKG --optimize=1
}
