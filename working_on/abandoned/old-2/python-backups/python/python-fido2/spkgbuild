# description : Library for FIDO 2.0, including communication with a device over USBA
# depends : python

name=python-fido2
version=0.8.1
release=3
url=https://github.com/Yubico/python-fido2
make# depends : git python-setuptools
_tarball_basename="fido2-${version}"
validpgpkeys=20EE325B86A81BCBD3E56798F04367096FBA95E8 # Dain Nilsson <dain@yubico.com>
source="git+https://github.com/Yubico/${name}.git#tag=${version}?signed"
sha256sums=SKIP

# Tests dont currently work in release tarballs
# check {
#    cd "${srcdir}/${name}"
#   python setup.py test
# }

options="!checksum"

build() {
   cd "${srcdir}/${name}"

  python setup.py build
  python setup.py install--root=$PKG -optimize=1

  install -D -m0644 COPYING "${PKG}/usr/share/licenses/${name}/COPYING"
}
