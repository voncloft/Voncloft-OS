# description : "Alternate keyring implementations"
# depends : python-keyring

name=python-keyrings-alt
_name=keyrings.alt
epoch=1
version=4.0.2
release=1
url=https://github.com/jaraco/keyrings.alt
make# depends : python-setuptools_scm
check# depends : libgnome-keyring python-pycryptodome python-gobject python-keyring
              python-pytest-runner python-pytest-flake8 python-pytest-black python-pytest-cov
opt# depends : libgnome-keyring: GNOME Integration
            python-gobject: GNOME Integration
            python-fs
            python-crypto: Encrypted file storage
source="$name-$version.tar.gz::$url/archive/v$version.tar.gz"
sha512sums=d4505efebd697c6da0108d39da3feb1ad1c3a13ff155182b78eb1fb18fa499927325a320be65f9a9730e494e1d3ed8fa583d24f7e2b81899e1512a353d5007e4

export SETUPTOOLS_SCM_PRETEND_VERSION=$version

build()-delete {
   cd $_name-$version

  python setup.py build
}

check {
   cd $_name-$version

  python setup.py pytest
}

options="!checksum"

build() {
   cd $_name-$version

  python setup.py build
  python setup.py install --root=$PKG --optimize=1 
}

