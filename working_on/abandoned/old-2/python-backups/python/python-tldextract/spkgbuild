# description : "Accurately separate the TLD from the registered domain and subdomains of a URL, using the Public Suffix List"
# depends : python-idna python-requests python-requests-file python-filelock

name=python-tldextract
version=3.1.0
release=1
url="https://github.com/john-kurkowski/tldextract"
make# depends : python-setuptools-scm python-pip
check# depends : python-pytest python-pytest-mock python-pytest-pylint python-responses
source="https://pypi.io/packages/source/t/tldextract/tldextract-$version.tar.gz"
sha512sums=c6c67598b7dd2c8e85008c5061693182eb075e16390b001eb696fd12a0f5666d0a327667a0fd61e4f270003a8cfc97a8fbf7b53a246bab6f9e9ad95943dac9d8

export SETUPTOOLS_SCM_PRETEND_VERSION=$version

build()-delete {
   cd tldextract-$version
  python setup.py build
}

check {
   cd tldextract-$version
  # tldextract/_version.py is generated by setuptools-scm, and will fail pylint here.
  python -m pytest --ignore build() --ignore tldextract/_version.py
}

options="!checksum"

build() {
   cd tldextract-$version
  python setup.py build
  python setup.py install --root=$PKG --optimize=1 

}

