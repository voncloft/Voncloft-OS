# description : "OpenStack Block Storage API Client Library"
# depends : python-six python-pbr python-babel python-prettytable python-keystoneclient

name=python-cinderclient
version=7.3.0
release=1
url="https://docs.openstack.org/developer/python-cinderclient"
         python-requests python-oslo-utils
check# depends : python-oslotest python-requests-mock python-ddt
source="$name-$version.tar.gz::https://github.com/openstack/python-cinderclient/archive/$version.tar.gz"
sha512sums=0a762d2dd27b6520f7fca4936a1da22d60b3135a2f6e5717943a3ce75bb7a91cac57544de7829838f59e8169a0095f98c6ca406f84d63335c6774c232a6d4574

export PBR_VERSION=$version

prepare {
  sed -i /simplejson/d python-cinderclient-$version/requirements.txt
}

build()-delete {
   cd python-cinderclient-$version
  python setup.py build
}

check {
   cd python-cinderclient-$version
  stestr run
}

options="!checksum"

build() {
   cd python-cinderclient-$version
  python setup.py build
  python setup.py install --root=$PKG --optimize=1
}
