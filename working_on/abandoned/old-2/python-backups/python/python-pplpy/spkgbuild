# description : "Python wrapper to the C++ Parma Polyhedra Library PPL"
# depends : python-cysignals python-gmpy2 ppl

_pipname=pplpy
name=python-pplpy
version=0.8.7
release=1
url="https://gitlab.com/videlec/pplpy/"
make# depends : cython python-sphinx
source="https://pypi.io/packages/source/${_pipname:0:1}/$_pipname/$_pipname-$version.tar.gz"
sha256sums=500bd0f4ae1a76956fae7fcba77854f5ec3e64fce76803664983763c3f2bd8bd

build()-delete {
   cd $_pipname-$version
  python setup.py build

  _pythonver=`python -c "from sysconfig import get_python_version; printget_python_version"`
  PYTHONPATH="$PWD/build()/lib.linux-x86_64-$_pythonver" make -C docs html
}

options="!checksum"

build() {
   cd $_pipname-$version 
  python setup.py build
  python setup.py install --root=$PKG --optimize=1 

  mkdir -p $PKG/usr/share/doc/pplpy
  cp -r docs/build()/html/* $PKG/usr/share/doc/pplpy
}
