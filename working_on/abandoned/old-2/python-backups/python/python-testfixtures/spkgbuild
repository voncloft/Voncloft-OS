# description : "A collection of helpers and mock objects that are useful when writing unit tests or doc tests"
# depends : python

name=python-testfixtures
version=6.17.1
release=1
url="https://github.com/Simplistix/testfixtures"
make# depends : python-setuptools
check# depends : python-pytest-runner python-zope-component python-sybil
              python-pytest-django python-django python-twisted
source="$name-$version.tar.gz::https://github.com/Simplistix/testfixtures/archive/$version.tar.gz"
sha512sums=6424f813926516fd90693ac7ecf39a30c71e19b02965c6c7e5c23971555dc8f18a6f09dd419d6efea7bb1e35de1234684b10358ba25fcaa7ba191e9f7aa5c933

build()-delete {
   cd "$srcdir"/testfixtures-$version
  python setup.py build
}

check {
   cd "$srcdir"/testfixtures-$version
  python setup.py pytest --addopts "--ignore=build()"
}

options="!checksum"

build() {
   cd testfixtures-$version
  python setup.py build
  python setup.py install --root=$PKG --optimize=1
  install -D -m644 docs/license.txt $PKG/usr/share/licenses/$name/license.txt
}
