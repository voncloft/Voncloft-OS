
pkgbase=python-pycryptodome
version=3.9.9
release=3
url=https://www.pycryptodome.org/
source="pycryptodome-${version}.tar.gz::https://github.com/Legrandin/pycryptodome/archive/v${version}.tar.gz"
sha512sums=a1aad4d52256220fe3d5d7f399c2c5e7338d6eb88058da0571fe1c686d74d33ff4bc1c275d4b9373e0ff22f4ddcded75a25387e76fc65047f8612f8856c1bd4d

prepare {
}

build()-delete {
  export PYTHONHASHSEED=0

   cd "$srcdir/pycryptodome-$version"
  python setup.py build

}

check {
   cd "$srcdir/pycryptodome-$version"
  python -B setup.py test

}

package_python-pycryptodome {
  # description : "Collection of cryptographic algorithms and protocols, implemented for use from Python 3."
  # depends : python gmp
  conflicts=python-crypto
  provides=python-crypto
  replaces=python-crypto

   cd "pycryptodome-$version"
  python setup.py build
  python setup.py install --root=$PKG --optimize=1 

  rm -r $PKG/usr/lib/python3.*/site-packages/Crypto/SelfTest/
}

  # description : "Collection of cryptographic algorithms and protocols, implemented for use from Python 2."


}
