# description : "A library to manipulate font files from Python"
# depends : "python"

name=python-fonttools
version=4.19.1
release=1
url="https://github.com/fonttools/fonttools"
make# depends : "cython" "python-setuptools"
opt# depends : "python-lxml: faster backend for XML files reading/writing"
	    "python-fs: to read/write UFO source files, "
	    "python-brotli: to compress/decompress WOFF 2.0 web fonts"
	    "python-zopfli: faster backend fom WOFF 1.0 web fonts compression"
	    "python-scipy: for finding wrong contour/component order between different masters"
	    "python-matplotlib: for visualizing DesignSpaceDocument and resulting VariationModel"
	    "python-unicodedata2: for displaying the Unicode character names when dumping the cmap table with ttx"
	    "python-sympy: for symbolic font statistics analysis"
	    "python-pyqt5: for drawing glyphs with Qts QPainterPath"
	    "python-reportlab: to drawing glyphs as PNG images"
            "python-lz4: for graphite type tables in ttLib/tables"
source="https://github.com/fonttools/fonttools/archive/${version}/fonttools-${version}.zip"
sha256sums=4fb9ea9d7f36e3f1b5fbf2f725e8f6300bfde4bd920757bbf3355204d7ddb984

build()-delete {
   cd "$srcdir"/fonttools-${version}
  python setup.py build_ext --inplace
  python setup.py build
}

options="!checksum"

build() {
   cd "$srcdir"/fonttools-${version}
  python setup.py build
  python setup.py install  --root=$PKG --optimize=1
}
