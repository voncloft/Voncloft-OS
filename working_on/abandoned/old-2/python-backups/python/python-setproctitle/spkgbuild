# description : "Allows a python process to change its process title"
# depends : python

name=python-setproctitle
version=1.2.2
release=1
url="https://github.com/dvarrazzo/py-setproctitle"
check# depends : python-pytest procps-ng
source=https://files.pythonhosted.org/packages/source/s/setproctitle/setproctitle-$version.tar.gz
sha256sums=7dfb472c8852403d34007e01d6e3c68c57eb66433fb8a5c77b13b89a160d97df

build()-delete {
     cd "$srcdir"/setproctitle-$version
    python setup.py build
}

check {
    local _pyver=$python -c "import sys; print{0}.{1}.format*sys.version_info[:2]"
     cd "$srcdir"/setproctitle-$version/build()/lib.linux-$CARCH-$_pyver
    python -m pytest ../../tests
}

package_python-setproctitle {
     cd "$srcdir"/setproctitle-$version
    python setup.py build
  python setup.py install  -O1 --root=$PKG
    install -m0644 -D COPYRIGHT "$PKG/usr/share/licenses/$name/COPYRIGHT"
}
