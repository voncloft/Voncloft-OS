# description : "Python module that implements the SSH2 protocol"
# depends : python-bcrypt python-cryptography python-pynacl

name=python-paramiko
version=2.7.2
release=3
url="https://github.com/paramiko/paramiko/"
make# depends : python-setuptools python-bcrypt python-cryptography python-pynacl
check# depends : python-pytest-runner python-pytest-relaxed python-pyasn1 python-invoke
             python-mock
source="https://github.com/paramiko/paramiko/archive/$version/$name-$version.tar.gz"
sha512sums=c9bc569428a0a61814cb73941356de5bae7fea7891ba4fd3f5c00ff1ee5083454bfde7e969fb4aaf5254b909f7f0132f590d67803eda8a67503e5c02ec2bf01a

check {
   cd paramiko-$version
  LANG=en_US.UTF-8 python setup.py pytest
}

options="!checksum"

build() {
   cd paramiko-$version

  python setup.py build
  python setup.py install --root=$PKG --optimize=1
  install -dm755 $PKG/usr/share/doc/$name/demos
  install -m644 demos/* $PKG/usr/share/doc/$name/demos
  chmod 755 $PKG/usr/share/doc/$name/demos/*.py
}
