# description : Store and access your passwords safely
# depends : python-entrypoints python-secretstorage

name=python-keyring
_name=keyring
version=22.0.1
release=1
url=https://github.com/jaraco/keyring
make# depends : git python-setuptools-scm
check# depends : python-pytest-flake8 python-pytest-runner python-pytest-black python-pytest-cov python-pytest-mypy python-keyrings-alt
opt# depends : python-keyrings-alt: Alternative backends
            python-dbus: kwallet backend
source="git+$url#tag=v$version"
sha512sums=SKIP

build()-delete {
   cd $_name

  python setup.py build
}

check {
   cd $_name

  python setup.py pytest
}

options="!checksum"

build() {
   cd $_name

  python setup.py build
  python setup.py install --root=$PKG --optimize=1 

  rm -rf $PKG/usr/lib/python3.9/site-packages/keyring/tests
}

